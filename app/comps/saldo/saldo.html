<div ng-include="'comps/common/topbar.html'">

</div>


<div id="wrapper" class="toggled">
  <my-sidebar></my-sidebar>
  <div id="page-content-wrapper"  class="container-fluid">
    <div class="row" style="min-height:80vh">

      <div class="col-md-12 col-sm-12">

        <nav aria-label="breadcrumb" role="navigation">
          <ol class="breadcrumb m-0">
            <li class="breadcrumb-item"><a class="text-success" >getbootstrap.com</a></li>
            <li class="breadcrumb-item"><a class="text-info" href="#!/home">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">Productos</li>
          </ol>
        </nav>
          <!-- INFO CLIENTE -->
          <header-client></header-client>
        <!--  END INFO CLIENTE -->

  <div class="">

    <div ng-show="!hasUserClient">
      <div class="row">
        <div class="col-sm-12 col-md-6 col-lg-6">
          <label for="clientes">Busqueda por cliente</label>
          <div class="input-group mb-3">
            <input type="text" id="clientes" class="form-control" ng-model="nombre_cliente" placeholder="Busqueda por Cliente" aria-label="Busqueda por Cliente" aria-describedby="basic-addon2">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary"  ng-click="getClientNew(true)" type="button">Buscar</button>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-md-6 col-lg-6" ng-show="clientes.length > 0" >
          <div class="form-group">
            <label for="exampleFormControlSelect1">Seleccione</label>
            <select class="form-control" ng-model="clientIndex" id="exampleFormControlSelect1" ng-change="selectCLient()">
              <option ng-repeat="x in clientes" value="{{$index}}">{{x.nombre_cliente}}</option>
              <option value="" disabled selected>Seleccione un cliente</option>
            </select>
          </div>
        </div>


      </div>
  </div>
<div class="col-md-12 mt-10 mb-10">
  <div class="card " >
    <div class="card-body">

      <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-12">
          <div class="form-check mb-3">
            <input class="form-check-input" type="radio" name="exampleRadios" ng-model="tipoBusqueda" id="exampleRadios1" ng-value="0" >
            <label class="form-check-label" for="exampleRadios1">
              Busqueda por producto
            </label>
          </div>
          <div class="form-check mb-3">
            <input class="form-check-input" type="radio" name="exampleRadios" ng-model="tipoBusqueda" id="exampleRadios2" ng-value="1" >
            <label class="form-check-label" for="exampleRadios2">
              Busqueda por componente activo
            </label>
          </div>

          <div class="row">
            <div class="col-md-6">
              <label for="clientes">Busqueda por producto</label>
              <div class="input-group mb-3">
                <input type="text" class="form-control"  ng-model="busqueda_prod" placeholder="Busqueda por Producto" aria-label="Busqueda por Producto" aria-describedby="basic-addon2">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary"   ng-click="getProdNew(true)" type="button">Buscar</button>
                </div>
              </div>
            </div>
            
            <div class="col-md-3">
              <label for="proveedor">Filtrar por proveedor</label>
              <div class="input-group mb-3 ">
                <div class="form-group">
                  <!-- <label for="exampleFormControlSelect1">Seleccione</label> -->
                  <select class="form-control" ng-model="proveedor.cod_proveedor" id="proveedor" >
                    <option value="null" >Todos</option>
                    <option ng-repeat="x in listProveedores" value="{{x.cod_proveedor}}">{{x.nombre_proveedor}}</option>
                    <option value="" disabled selected>Seleccione un proveedor</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <label for="filtro">Filtrar por categoria</label>
              <div class="input-group mb-3 ">
                <div class="form-group">
                  <!-- <label for="exampleFormControlSelect1">Seleccione</label> -->
                  <select class="form-control" ng-model="categoria.CODIGO" id="proveedor" >
                    <!-- <option value="null" >Todos</option> -->
                    <option ng-repeat="x in listCategorias" value="{{x.CODIGO}}">{{x.NOMBRE}}</option>
                    <option value="" disabled selected>Seleccione una categoria</option>
                  </select>
                </div>
              </div>

            </div>

          </div>

        </div>
        <div class="col-md-12">
        </div>

      </div>
      <div ng-if="clientIndex != -1" >
        <!-- <table datatable="" dt-options="dtOptions" dt-columns="dtColumns" dt-instance="dtInstance" class="table table-striped table-bordered">
        </table> -->

        <table class="table table-striped table-bordered"  datatable="ng" dt-options="dtOptions">
          <thead>
            <tr>
              <th scope="col"><p class="text-center">#</p></th>
              <th scope="col"><p class="text-center">Nombre de producto</p></th>
              <th scope="col"><p class="text-center">Fecha vencimiento</p></th>
              <th scope="col"><p class="text-center">Proveedor</p></th>
              <th scope="col"><p class="text-center">Principio activo</p></th>
              <th scope="col"><p class="text-center">Existencia</p></th>
            </tr>
          </thead>
          <tbody>

            <tr ng-repeat="x in listaProd">
              <th scope="row">{{ $index + 1 }}</th>
              <td><p class="text-center">{{ x.nombre_producto }}</p></td>
              <td><p class="text-center">{{ x.fecha_vence }}</p></td>
              <td><p class="text-center">{{ x.proveedor }}</p></td>
              <td><p class="text-center">{{ x.princ_activo }}</p></td>
              <td><p class="text-center">{{ x.existencia }}</p></td>

            </tr>
          </tbody>
        </table>

      </div>

    </div>
  </div>
</div>



      </div>
    </div>



  </div>
  </div>
</div>
<my-footer></my-footer>
<div ng-show="loading">
  <my-loading></my-loading>
</div>
